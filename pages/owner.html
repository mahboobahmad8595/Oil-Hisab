<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Owner</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
    font-family: Arial, sans-serif;
    background:#f4f4f4;
    display:flex;
    justify-content:center;
    padding:12px;
}

.main-box{
    width:92vw;
    max-width:470px;
    background:white;
    border:2px solid #000;
    padding:10px;
    position:relative;
}

/* MENU */
.dropdown{ position:absolute; top:10px; right:10px; }
.dot{
    width:4px; 
    height:4px;
    background:#000;
    border-radius:50%;
    display:block;
    margin:3px 0;
    cursor:pointer;
}
.dropdown-content{
    display:none;
    position:absolute;
    right:0;
    top:15px;
    background:#fff;
    border:1px solid #000;
    z-index:10;
    font-size:12px;
}
.dropdown-content div{ padding:6px 10px; cursor:pointer; }
.dropdown-content div:hover{ background:#f0f0f0; }

/* PAGES */
.page { display:none; }

/* TOP INPUTS */
.top-grid{
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap:14px 10px;
    margin-bottom:12px;
}
.top-grid > div{
    display:flex;
    flex-direction:column;
    align-items:center;
}
.top-grid span{
    font-size:13px;
    font-weight:bold;
}
.top-grid input{
    width:70%;
    border:none;
    border-bottom:1.3px solid #000;
    background:transparent;
    padding:3px 0;
    text-align:center;
    font-size:14px;
    font-weight:bold;
    outline:none;
}

/* TABLE */
.table-grid{
    display:grid;
    grid-template-columns: repeat(5, 1fr);
    grid-template-rows: repeat(17, 26px);
    border-left:2px solid #000;
    border-top:2px solid #000;
}
.cell{
    border-right:2px solid #000;
    border-bottom:2px solid #000;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:12.5px;
    font-weight:bold;
}
.input-cell input{
    width:100%;
    height:100%;
    border:none;
    background:transparent;
    text-align:center;
    font-size:12.5px;
    outline:none;
}
</style>
</head>
<body>

<div class="main-box">

    <!-- MENU (FIXED ISSUE: only dots clickable) -->
    <div class="dropdown">
        <span class="dot" onclick="toggleDropdown()"></span>
        <span class="dot" onclick="toggleDropdown()"></span>
        <span class="dot" onclick="toggleDropdown()"></span>

        <div class="dropdown-content" id="dropdownMenu">
            <div onclick="openPage('athar','Athar')">Athar</div>
            <div onclick="openPage('sabir','Sabir')">Sabir</div>
            <div onclick="openPage('tahir','Tahir')">Tahir</div>
            <div onclick="openPage('faisal','Faisal')">Faisal</div>
        </div>
    </div>



    <!-- ========== ATHAR PAGE ========== -->
    <div id="athar" class="page">
        <div class="top-grid">
            <div><span>Owner:</span><input id="owner-athar" type="text"></div>
            <div><span>Oil Sent On:</span><input type="text"></div>
            <div><span>Oil Usage:</span><input type="text"></div>
            <div><span>Total Litre:</span><input type="text"></div>
            <div><span>Rate:</span><input type="text"></div>
            <div><span>Amount:</span><input type="text"></div>
        </div>

        <div class="table-grid">
            <div class="cell">Memo</div>
            <div class="cell">Drum</div>
            <div class="cell">Date</div>
            <div class="cell">Vehicle</div>
            <div class="cell">Litre</div>
        </div>
    </div>



    <!-- ========== SABIR PAGE ========== -->
    <div id="sabir" class="page">
        <div class="top-grid">
            <div><span>Owner:</span><input id="owner-sabir" type="text"></div>
            <div><span>Oil Sent On:</span><input type="text"></div>
            <div><span>Oil Usage:</span><input type="text"></div>
            <div><span>Total Litre:</span><input type="text"></div>
            <div><span>Rate:</span><input type="text"></div>
            <div><span>Amount:</span><input type="text"></div>
        </div>

        <div class="table-grid">
            <div class="cell">Memo</div>
            <div class="cell">Drum</div>
            <div class="cell">Date</div>
            <div class="cell">Vehicle</div>
            <div class="cell">Litre</div>
        </div>
    </div>



    <!-- ========== TAHIR PAGE ========== -->
    <div id="tahir" class="page">
        <div class="top-grid">
            <div><span>Owner:</span><input id="owner-tahir" type="text"></div>
            <div><span>Oil Sent On:</span><input type="text"></div>
            <div><span>Oil Usage:</span><input type="text"></div>
            <div><span>Total Litre:</span><input type="text"></div>
            <div><span>Rate:</span><input type="text"></div>
            <div><span>Amount:</span><input type="text"></div>
        </div>

        <div class="table-grid">
            <div class="cell">Memo</div>
            <div class="cell">Drum</div>
            <div class="cell">Date</div>
            <div class="cell">Vehicle</div>
            <div class="cell">Litre</div>
        </div>
    </div>



    <!-- ========== FAISAL PAGE ========== -->
    <div id="faisal" class="page">
        <div class="top-grid">
            <div><span>Owner:</span><input id="owner-faisal" type="text"></div>
            <div><span>Oil Sent On:</span><input type="text"></div>
            <div><span>Oil Usage:</span><input type="text"></div>
            <div><span>Total Litre:</span><input type="text"></div>
            <div><span>Rate:</span><input type="text"></div>
            <div><span>Amount:</span><input type="text"></div>
        </div>

        <div class="table-grid">
            <div class="cell">Memo</div>
            <div class="cell">Drum</div>
            <div class="cell">Date</div>
            <div class="cell">Vehicle</div>
            <div class="cell">Litre</div>
        </div>
    </div>

</div>



<script>

function loadOwnerData(ownerName) {
    const key = `ownerData_${ownerName}`;
    const data = JSON.parse(localStorage.getItem(key)) || [];

    const page = document.getElementById(ownerName.toLowerCase());
    const table = page.querySelector(".table-grid");

    // clear old rows (header ke baad)
    table.querySelectorAll(".input-cell").forEach(c => c.remove());

    let total = 0;

    data.forEach(item => {
        total += Number(item.litre) || 0;

        ["memo","drum","date","vehicle","litre"].forEach(k => {
            const div = document.createElement("div");
            div.className = "cell input-cell";
            div.textContent = item[k];
            table.appendChild(div);
        });
    });

    page.querySelector('input[placeholder], input').value = ownerName;
}
    
// dropdown toggle
function toggleDropdown(){
    const menu = document.getElementById("dropdownMenu");
    menu.style.display = menu.style.display === "block" ? "none" : "block";
}

// PAGE switch + auto owner fill
function openPage(id, ownerName){
    document.getElementById("dropdownMenu").style.display = "none"; // close dropdown

    document.querySelectorAll(".page").forEach(p => p.style.display = "none");

    document.getElementById(id).style.display = "block";

    document.getElementById(`owner-${id}`).value = ownerName;
}

// close dropdown when clicking outside
window.onclick = function(e){
    if(!e.target.closest(".dropdown")){
        document.getElementById("dropdownMenu").style.display = "none";
    }
}

// Auto generate 16 rows in every table
document.querySelectorAll(".table-grid").forEach(table => {
    for(let i=0;i<16;i++){
        for(let j=0;j<5;j++){
            let div = document.createElement("div");
            div.className = "cell input-cell";
            div.innerHTML = "<input>";
            table.appendChild(div);
        }
    }
});

// default page
openPage("athar","Athar");
</script>

</body>
</html>
